!function(e){var n="openerActiveClass",t="click touchend",o="left",i="doCollapseAll",a="position",s="trigger",r="disableSelection_dropotron",f="addClass",c="doCollapse",l=!1,u="outerWidth",d="removeClass",h="preventDefault",p="length",w="dropotron",g="clearTimeout",m="right",v="parent",b=!0,k="speed",x="none",y="stopPropagation",C="doExpand",O=":visible",I="absolute",T="css",D="center",E="toggle",Y="baseZIndex",P="offsetX",M="alignment",A="submenuClassPrefix",X="children",z="hover",F="relative",S="doToggle",Z="ul",j="z-index",H="opacity",Q="find",R="opener",W="px",$=null,_="hide",q="offset",B="detach",G="fast";e.fn[r]=function(){return e(this)[T]("user-select",x)[T]("-khtml-user-select",x)[T]("-moz-user-select",x)[T]("-o-user-select",x)[T]("-webkit-user-select",x)},e.fn[w]=function(n){var t;if(0==this[p])return e(this);if(this[p]>1)for(t=0;t<this[p];t++)e(this[t])[w](n);return e[w](e.extend({selectorParent:e(this)},n))},e[w]=function(x){var J=e.extend({selectorParent:$,baseZIndex:1e3,menuClass:w,expandMode:z,hoverDelay:150,hideDelay:250,openerClass:R,openerActiveClass:"active",submenuClassPrefix:"level-",mode:"fade",speed:G,easing:"swing",alignment:o,offsetX:0,offsetY:0,globalOffsetY:0,IEOffsetX:0,IEOffsetY:0,noOpenerFade:b,detach:b,cloneOnDetach:b},x),K=J.selectorParent,L=K[Q](Z),N=e("body"),U=e("body,html"),V=e(window),ee=l,ne=$,te=$;K.on(i,function(){L[s](c)}),L.each(function(){var i=e(this),p=i[v]();J.hideDelay>0&&i.add(p).on("mouseleave",function(){window[g](te),te=window.setTimeout(function(){i[s](c)},J.hideDelay)}),i[r]()[_]()[f](J.menuClass)[T](a,I).on("mouseenter",function(){window[g](te)}).on(C,function(){var t,r,h,w,x,y,C,A,X,z,S;if(i.is(O))return l;if(window[g](te),L.each(function(){var n=e(this);e.contains(n.get(0),p.get(0))||n[s](c)}),t=p[q](),r=p[a](),h=p[v]()[a](),w=p[u](),x=i[u](),y=i[T](j)==J[Y],y){switch(C=J[B]?t:r,z=C.top+p.outerHeight()+J.globalOffsetY,A=J[M],i[d](o)[d](m)[d](D),J[M]){case m:X=C[o]-x+w,0>X&&(X=C[o],A=o);break;case D:X=C[o]-Math.floor((x-w)/2),0>X?(X=C[o],A=o):X+x>V.width()&&(X=C[o]-x+w,A=m);break;case o:default:X=C[o],X+x>V.width()&&(X=C[o]-x+w,A=m)}i[f](A)}else switch(p[T](a)==F||p[T](a)==I?(z=J.offsetY,X=-1*r[o]):(z=r.top+J.offsetY,X=0),J[M]){case m:X+=-1*p[v]()[u]()+J[P];break;case D:case o:default:X+=p[v]()[u]()+J[P]}switch(navigator.userAgent.match(/MSIE ([0-9]+)\./)&&RegExp.$1<8&&(X+=J.IEOffsetX,z+=J.IEOffsetY),i[T](o,X+W)[T]("top",z+W)[T](H,"0.01").show(),S=l,X=p[T](a)==F||p[T](a)==I?-1*r[o]:0,i[q]()[o]<0?(X+=p[v]()[u]()-J[P],S=b):i[q]()[o]+x>V.width()&&(X+=-1*p[v]()[u]()-J[P],S=b),S&&i[T](o,X+W),i[_]()[T](H,"1"),J.mode){case"zoom":ee=b,p[f](J[n]),i.animate({width:E,height:E},J[k],J.easing,function(){ee=l});break;case"slide":ee=b,p[f](J[n]),i.animate({height:E},J[k],J.easing,function(){ee=l});break;case"fade":ee=b,y&&!J.noOpenerFade?(S="slow"==J[k]?80:J[k]==G?40:Math.floor(J[k]/2),p.fadeTo(S,.01,function(){p[f](J[n]),p.fadeTo(J[k],1),i.fadeIn(J[k],function(){ee=l})})):(p[f](J[n]),p.fadeTo(J[k],1),i.fadeIn(J[k],function(){ee=l}));break;case"instant":default:p[f](J[n]),i.show()}return l}).on(c,function(){return i.is(O)?(i[_](),p[d](J[n]),i[Q]("."+J[n])[d](J[n]),i[Q](Z)[_](),l):l}).on(S,function(){return i.is(O)?i[s](c):i[s](C),l}),p[r]()[f](R)[T]("cursor","pointer").on(t,function(e){ee||(e[h](),e[y](),i[s](S))}),J.expandMode==z&&p[z](function(){ee||(ne=window.setTimeout(function(){i[s](C)},J.hoverDelay))},function(){window[g](ne)})}),L[Q]("a")[T]("display","block").on(t,function(n){ee||e(this).attr("href")[p]<1&&n[h]()}),K[Q]("li")[T]("white-space","nowrap").each(function(){var n=e(this),o=n[X]("a"),a=n[X](Z),r=o.attr("href");o.on(t,function(e){0==r[p]||"#"==r?e[h]():e[y]()}),o[p]>0&&0==a[p]&&n.on(t,function(e){ee||(K[s](i),e[y]())})}),K[X]("li").each(function(){var n,t,o,i,a=e(this),s=a[X](Z);if(s[p]>0)for(J[B]&&(J.cloneOnDetach&&(n=s.clone(),n.attr("class","")[_]().appendTo(s[v]())),s[B]().appendTo(N)),t=J[Y],o=1,i=s;i[p]>0;o++)i[T](j,t++),J[A]&&i[f](J[A]+(t-1-J[Y])),i=i[Q]("> li > ul")}),V.on("scroll",function(){K[s](i)}).on("keypress",function(e){!ee&&27==e.keyCode&&(e[h](),K[s](i))}),U.on(t,function(){ee||K[s](i)})}}(jQuery);